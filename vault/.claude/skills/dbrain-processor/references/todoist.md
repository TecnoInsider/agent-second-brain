# Todoist Integration

## Available MCP Tools

### Reading Tasks
- `get-overview` ‚Äî all projects with hierarchy
- `find-tasks` ‚Äî search by text, project, section
- `find-tasks-by-date` ‚Äî tasks by date range

### Writing Tasks
- `add-tasks` ‚Äî create new tasks
- `complete-tasks` ‚Äî mark as done
- `update-tasks` ‚Äî modify existing

---

## Pre-Creation Checklist

### 1. Check Workload (REQUIRED)

```
find-tasks-by-date:
  startDate: "today"
  daysCount: 7
  limit: 50
```

Build workload map:
```
Mon: 2 tasks
Tue: 4 tasks  ‚Üê overloaded
Wed: 1 task
Thu: 3 tasks  ‚Üê at limit
Fri: 2 tasks
Sat: 0 tasks
Sun: 0 tasks
```

### 2. Check Duplicates (REQUIRED)

```
find-tasks:
  searchText: "key words from new task"
```

If similar exists ‚Üí mark as duplicate, don't create.

---

## Priority by Domain ‚Äî –°–≤–µ—Ç–æ—Ñ–æ—Ä

| Domain | Default Priority | Override |
|--------|-----------------|----------|
| üî¥ –ù–∏–∫–æ–ª–∞–µ–≤–∞ (–æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ—Ö–æ–¥) | p1-p2 | ‚Äî |
| üî¥ –§–∏–Ω–∞–Ω—Å—ã (–ø–ª–∞—Ç–µ–∂–∏, –¥–æ–ª–≥–∏) | p2 | ‚Äî |
| üü° –ñ—ë–ª—Ç—ã–π –ø—Ä–æ–µ–∫—Ç (–¥–æ–±–∏—Ç—å) | p2-p3 | aligned with weekly ‚Üí p2 |
| üü¢ BaZi-–æ–±—É—á–µ–Ω–∏–µ | p3-p4 | ‚Äî |
| üü¢ AI-–∫–æ–Ω—Ç–µ–Ω—Ç (—Å –¥–µ–¥–ª–∞–π–Ω–æ–º) | p3 | ‚Äî |
| üü¢ AI-–∫–æ–Ω—Ç–µ–Ω—Ç (–±–µ–∑ –¥–µ–¥–ª–∞–π–Ω–∞) | p4 | ‚Äî |
| üü¢ BaZi-—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ | p3 | –∫–µ–π—Å –¥–ª—è –ø—Ä–æ–¥–∞–∂ ‚Üí p2-p3 |
| üü¢ –ü—Ä–æ–¥—É–∫—Ç/–¥–∞—à–±–æ—Ä–¥ | p4 | –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç –∫ $3K ‚Üí p3 |
| –õ–∏—á–Ω–æ–µ (–∑–¥–æ—Ä–æ–≤—å–µ, –ø–µ—Ä–µ–µ–∑–¥) | p3 | ‚Äî |
| ‚õî –ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç (4-–π) | ‚Äî | –ù–ï –°–û–ó–î–ê–í–ê–¢–¨ ‚Üí ideas/someday |

### Priority Keywords

| Keywords in text | Priority |
|-----------------|----------|
| —Å—Ä–æ—á–Ω–æ, –∫—Ä–∏—Ç–∏—á–Ω–æ, –ù–∏–∫–æ–ª–∞–µ–≤–∞, –¥–µ–¥–ª–∞–π–Ω | p1 |
| –≤–∞–∂–Ω–æ, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, –¥–æ –∫–æ–Ω—Ü–∞ –Ω–µ–¥–µ–ª–∏, –æ–ø–ª–∞—Ç–∏—Ç—å | p2 |
| –Ω—É–∂–Ω–æ, –Ω–∞–¥–æ, –Ω–µ –∑–∞–±—ã—Ç—å, –∑–∞–ø–∏—Å–∞—Ç—å, —Å–Ω—è—Ç—å | p3 |
| –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å, –∏–¥–µ—è, –ø–æ—Ç–æ–º, —Å—Ç—Ä–∞—Ç–µ–≥–∏—è | p4 |

### Apply Decision Filters for Priority Boost

If entry matches 2+ filters ‚Üí boost priority by 1 level:
- –î–≤–∏–≥–∞–µ—Ç –∫ $3K/–º–µ—Å –∏ –í–∞–ª–µ–Ω—Å–∏–∏?
- –£—Å–∏–ª–∏–≤–∞–µ—Ç BaZi-—ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –∏–ª–∏ –±—Ä–µ–Ω–¥?
- –ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç –∫ –∑–∞–ø—É—Å–∫—É BaZi-—Å–µ—Ä–≤–∏—Å–∞?
- –°–æ–∑–¥–∞—ë—Ç –∫–µ–π—Å/–æ—Ç–∑—ã–≤ –¥–ª—è –ø—Ä–æ–¥–∞–∂?
- –ü—Ä–∏–≤–æ–¥–∏—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤?

---

## Date Mapping

| Context | dueString |
|---------|-----------|
| üî¥ –ù–∏–∫–æ–ª–∞–µ–≤–∞ –¥–µ–¥–ª–∞–π–Ω | exact date |
| üî¥ –ü–ª–∞—Ç—ë–∂ –ø–æ –∫—Ä–µ–¥–∏—Ç–∫–µ | exact date |
| üü° –ñ—ë–ª—Ç—ã–π –ø—Ä–æ–µ–∫—Ç (—Å–µ—Å—Å–∏—è) | next available day |
| –°—Ä–æ—á–Ω–æ–µ | today / tomorrow |
| –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ | friday |
| –ù–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ | next monday |
| –°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ / BaZi | in 7 days |
| –ù–µ —É–∫–∞–∑–∞–Ω–æ | in 3 days |

### Russian ‚Üí dueString

| Russian | dueString |
|---------|-----------|
| —Å–µ–≥–æ–¥–Ω—è | today |
| –∑–∞–≤—Ç—Ä–∞ | tomorrow |
| –ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞ | in 2 days |
| –≤ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ | monday |
| –≤ –ø—è—Ç–Ω–∏—Ü—É | friday |
| –Ω–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ | friday |
| –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –Ω–µ–¥–µ–ª–µ | next monday |
| —á–µ—Ä–µ–∑ –Ω–µ–¥–µ–ª—é | in 7 days |
| 15 —è–Ω–≤–∞—Ä—è | January 15 |

---

## Task Creation

```
add-tasks:
  tasks:
    - content: "Task title"
      dueString: "friday"  # MANDATORY
      priority: "p4"       # based on domain
      projectId: "..."     # if known
```

### Task Title Style

–°—Ç–∏–ª—å: –ø—Ä—è–º–æ–π, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π, —Å –¥–µ–π—Å—Ç–≤–∏–µ–º. Process goals, –Ω–µ outcomes.

‚úÖ Good:
- "–°–µ—Å—Å–∏—è —Å –ø–æ–º–æ—â–Ω–∏—Ü–µ–π: –¥–µ–º–æ-—Ä–µ–∂–∏–º –∫–∞–ª–æ—Ä–∏–π-–±–æ—Ç–∞ (2 —á–∞—Å–∞)"
- "–°–Ω—è—Ç—å –±—ã—Å—Ç—Ä—ã–π AI-—Ä–æ–ª–∏–∫ —Å —ç–∫—Ä–∞–Ω–∞ (10 –º–∏–Ω)"
- "–ù–∞–ø–∏—Å–∞—Ç—å –ú–∞—à–µ –ø—Ä–æ –±–µ—Å–ø–ª–∞—Ç–Ω—É—é BaZi-—Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫—É –Ω–∞ –î–†"
- "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å 1 —É—Ä–æ–∫ –∫—É—Ä—Å–∞ –ê–Ω–∞—Ä–±–∞–µ–≤–æ–π"
- "–û–ø–ª–∞—Ç–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–ª–∞—Ç—ë–∂ –ø–æ –∫—Ä–µ–¥–∏—Ç–∫–µ –ü—Ä–∏–≤–∞—Ç–±–∞–Ω–∫"

‚ùå Bad:
- "–ü–æ–¥—É–º–∞—Ç—å –æ BaZi-–±–∏–∑–Ω–µ—Å–µ"
- "–ß—Ç–æ-—Ç–æ —Å –±–æ—Ç–æ–º"
- "–†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º"
- "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏" (outcome, –Ω–µ process)
- "–ò–∑—É—á–∏—Ç—å —Ç–µ–º—É" (—á—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ?)

### Workload Balancing

If target day has 3+ tasks:
1. Find next day with < 3 tasks
2. Use that day instead
3. Mention in report: "—Å–¥–≤–∏–Ω—É—Ç–æ –Ω–∞ {day} (–ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞)"

Exception: üî¥ Red tasks (–ù–∏–∫–æ–ª–∞–µ–≤–∞, –ø–ª–∞—Ç–µ–∂–∏) ‚Üí always go to specified date.

---

## Project Detection

| Keywords | Project |
|----------|---------|
| –ù–∏–∫–æ–ª–∞–µ–≤–∞, —Ä–∞–±–æ—á–µ–µ, –ø—Ä–æ–µ–∫—Ç | –ù–∏–∫–æ–ª–∞–µ–≤–∞ |
| –∫–∞–ª–æ—Ä–∏–π-–±–æ—Ç, –±–æ—Ç, –ø–æ–º–æ—â–Ω–∏—Ü–∞ | –ö–∞–ª–æ—Ä–∏–π-–±–æ—Ç |
| BaZi, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞, –∫–∞—Ä—Ç–∞, –¥–∞—à–±–æ—Ä–¥, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä | BaZi |
| —Ä–æ–ª–∏–∫, –≤–∏–¥–µ–æ, YouTube, —é—Ç—É–±, Telegram, –∫–æ–Ω—Ç–µ–Ω—Ç, –ø–æ—Å—Ç, –∫–∞–Ω–∞–ª | –ö–æ–Ω—Ç–µ–Ω—Ç |
| –∫—É—Ä—Å, –æ–±—É—á–µ–Ω–∏–µ, –ê–Ω–∞—Ä–±–∞–µ–≤–∞, –¢–∏—Ç–æ–≤, —É—Ä–æ–∫ | –û–±—É—á–µ–Ω–∏–µ |
| –∫—Ä–µ–¥–∏—Ç–∫–∞, –ø–ª–∞—Ç—ë–∂, –¥–æ–ª–≥, –æ–ø–ª–∞—Ç–∏—Ç—å | –§–∏–Ω–∞–Ω—Å—ã |
| –∑–¥–æ—Ä–æ–≤—å–µ, –∑—É–±—ã, —Ä–µ–∂–∏–º, –∑–∞—Ä—è–¥–∫–∞ | –ó–¥–æ—Ä–æ–≤—å–µ |
| –í–∞–ª–µ–Ω—Å–∏—è, –ø–µ—Ä–µ–µ–∑–¥, –∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–∫—É–º–µ–Ω—Ç—ã | –ü–µ—Ä–µ–µ–∑–¥ |
| –∫–∞—Ä—É—Å–µ–ª—å, –∫–∞—Ä—É—Å–µ–ª—å–∫–∏, Instagram | –ö–∞—Ä—É—Å–µ–ª—å–∫–∏ |

If unclear ‚Üí use Inbox (no projectId).

---

## Anti-Patterns (–ù–ï –°–û–ó–î–ê–í–ê–¢–¨)

- ‚ùå "–ü–æ–¥—É–º–∞—Ç—å –æ..." ‚Üí –∫–æ–Ω–∫—Ä–µ—Ç–∏–∑–∏—Ä—É–π: —á—Ç–æ –∏–º–µ–Ω–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∑–∞ –∫–∞–∫–æ–µ –≤—Ä–µ–º—è?
- ‚ùå "–†–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å..." ‚Üí —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å/–ø—Ä–æ—á–∏—Ç–∞—Ç—å/—Å–ø—Ä–æ—Å–∏—Ç—å?
- ‚ùå "–ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏" ‚Üí outcome goal. –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –≤ process: "–ù–∞–ø–∏—Å–∞—Ç—å 1 —á–µ–ª–æ–≤–µ–∫—É —Å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ–º"
- ‚ùå –ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ Next Action
- ‚ùå –î—É–±–ª–∏–∫–∞—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∑–∞–¥–∞—á
- ‚ùå –ó–∞–¥–∞—á–∏ –±–µ–∑ –¥–∞—Ç
- ‚ùå –ó–∞–¥–∞—á–∏ –∏–∑ –≤–µ—á–µ—Ä–Ω–∏—Ö –∏–º–ø—É–ª—å—Å–æ–≤ (–ø–æ—Å–ª–µ 21:00) –∫–∞–∫ —Å—Ä–æ—á–Ω—ã–µ ‚Üí –∑–∞–ø–∏—Å–∞—Ç—å –≤ ideas, –≤–µ—Ä–Ω—É—Ç—å—Å—è —É—Ç—Ä–æ–º
- ‚ùå 4-–π –ø—Ä–æ–µ–∫—Ç ‚Üí –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ ideas/someday

---

## Error Handling

CRITICAL: –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π "–¥–æ–±–∞–≤–∏—Ç—å –≤—Ä—É—á–Ω—É—é".

If `add-tasks` fails:
1. Include EXACT error message in report
2. Continue with next entry
3. Don't mark as processed
4. User will see error and can debug

WRONG output:
  "–ù–µ —É–¥–∞–ª–æ—Å—å –¥–æ–±–∞–≤–∏—Ç—å (MCP –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω). –î–æ–±–∞–≤—å –≤—Ä—É—á–Ω—É—é: Task title"

CORRECT output:
  "–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏: [exact error from MCP tool]"